<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SanitiAI - Secure Document Sanitization</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a href="#" class="navbar-brand">
          <div class="logo">
            <svg
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 2L2 7V17L12 22L22 17V7L12 2Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M2 7L12 12L22 7"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12 12V22"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h1 class="navbar-title">SanitiAI</h1>
        </a>
        <div class="language-selector">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="2" y1="12" x2="22" y2="12"></line>
            <path
              d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
            ></path>
          </svg>
          <select id="languageSelector">
            <option value="en">English</option>
            <option value="hi">हिंदी</option>
            <option value="mr">मराठी</option>
            <option value="ta">தமிழ்</option>
            <option value="bn">বাংলা</option>
          </select>
        </div>
      </div>
    </nav>

    <main class="main-container">
      <section class="upload-section">
        <p class="tagline">
          Securely redact sensitive information from your documents.
        </p>
        <div class="file-upload-area" id="dropArea">
          <div class="upload-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="48"
              height="48"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"
              />
              <path d="M12 12v9" />
              <path d="m16 16-4-4-4 4" />
            </svg>
          </div>
          <p id="uploadText"><b>Click to upload</b> or drag and drop</p>
          <span id="uploadHint" class="upload-hint"
            >Images, PDF, DOCX, TXT, CSV, JSON (Max 16MB)</span
          >
          <input
            type="file"
            id="fileInput"
            accept=".jpg,.jpeg,.png,.pdf,.txt,.csv,.json,.docx"
            hidden
          />
        </div>

        <div class="plugin-selector-container">
          <label for="piiPluginSelector">Select Analysis Engine:</label>
          <select id="piiPluginSelector" class="plugin-selector">
            <option value="internal_regex" selected>
              Internal Engine (Regex)
            </option>
            <option value="google_dlp">Google Cloud DLP (API)</option>
            <option value="azure_pii">Microsoft Azure AI (API)</option>
          </select>
        </div>

        <div id="fileListContainer"></div>
        <div class="button-container">
          <button class="btn-submit" id="submitBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"
              />
              <path d="m9 12 2 2 4-4" />
            </svg>
            <span id="submitBtnText">Sanitize Document</span>
          </button>
        </div>
      </section>

      <section class="results-section">
        <div class="result-state" id="placeholder">
          <svg
            class="placeholder-icon"
            width="80"
            height="80"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2L2 7V17L12 22L22 17V7L12 2Z"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M16.12 9.88L12 12L7.88 9.88"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M12 12V17"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <h2 id="placeholderTitle">
            Your sanitized document will appear here
          </h2>
          <p id="placeholderText">
            Upload a document to begin the automated redaction process.
          </p>
        </div>
        <div class="result-state" id="processing-state">
          <div class="loader"></div>
          <h2 id="processing-status-text">Processing...</h2>
          <p id="processingHint">
            Analyzing your document for sensitive information. Please wait.
          </p>
        </div>

        <div class="result-state" id="results-display">
          <div class="comparison-grid">
            <div class="text-container" id="original-text-container">
              <h3 id="originalTitle">Original Extracted Text</h3>
              <pre id="original-text-content" class="text-preview-box"></pre>
            </div>
            <div class="text-container" id="sanitized-text-container">
              <h3 id="sanitizedTitle">Sanitized Text</h3>
              <pre id="sanitized-text-content" class="text-preview-box"></pre>
            </div>
          </div>
          <div id="statusMessage" class="status-message"></div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>&copy; 2025 SanitiAI. All Rights Reserved.</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
